import{u as e,n as a,j as s,S as t,P as n}from"./chunk-BrHqqTfK.js";import{u as l,r as i}from"./chunk-BO6q4UjV.js";import{S as r,A as o}from"./chunk-DNRBx0XW.js";import"./chunk-CSkc87qm.js";const d={"Dairy Cattle":"üêÑ","Beef Cattle":"üêÇ","Dairy Goat":"üêê","Beef Goat":"üêê",Sheep:"üêë","Pedigree Sheep":"üêë",Chicken:"üêî",Poultry:"üêî"};function c(){const c=l(),[m,h]=i.useState([]),[x,j]=i.useState([]),[u,p]=i.useState({type:"Dairy Cattle",name:"",dob:"",sex:"F",notes:""}),[y,g]=i.useState(null),[v,f]=i.useState({type:"",name:"",dob:"",sex:"",notes:""}),[b,N]=i.useState(null),[S,C]=i.useState(!0),{canEdit:w,canDelete:D}=e(),A=!c.pathname.startsWith("/dashboard");i.useEffect(()=>{!function(){C(!0);const e=localStorage.getItem("adonai_animals");e?h(JSON.parse(e)):(h([...a]),localStorage.setItem("adonai_animals",JSON.stringify(a)));C(!1)}()},[]),i.useEffect(()=>{j(m)},[m]);function k(e){if(e.preventDefault(),!v.name.trim())return;const a=m.map(e=>e.id===y?{id:y,...v}:e);h(a),localStorage.setItem("adonai_animals",JSON.stringify(a)),g(null),f({type:"",name:"",dob:"",sex:"",notes:""})}function B(){g(null),f({type:"",name:"",dob:"",sex:"",notes:""})}const F=e=>{if(!e)return"Unknown";const a=new Date(e),s=new Date,t=12*(s.getFullYear()-a.getFullYear())+(s.getMonth()-a.getMonth());if(t<12)return`${t} month${1!==t?"s":""}`;{const e=Math.floor(t/12),a=t%12;return`${e} year${1!==e?"s":""}${a>0?` ${a} month${1!==a?"s":""}`:""}`}};return A?s.jsxs(s.Fragment,{children:[s.jsx(r,{pageType:"animals",title:"Meet Our Animals - Livestock at Adonai Farm",description:"Meet the wonderful animals at Adonai Farm in Kericho, Kenya. Our diverse livestock includes dairy cattle, beef cattle, goats, sheep, and poultry - all raised with care and modern farming practices.",keywords:["Adonai Farm animals","livestock Kericho Kenya","farm animals Kenya","dairy cattle Kericho","beef cattle Kenya","goats sheep poultry","pasture raised animals","sustainable livestock farming","animal welfare Kenya","farm animal tours Kericho"],image:"/images/adonai1.jpg",url:"/animals",breadcrumbs:[{name:"Home",url:"/"},{name:"Our Animals",url:"/animals"}],pageData:{animals:m.map(e=>({name:e.name,type:e.type,description:`A wonderful ${e.type.toLowerCase()} at Adonai Farm`}))}}),s.jsx(o,{})]}):S?s.jsx("div",{className:"loading",children:s.jsx("div",{className:"spinner"})}):s.jsxs("div",{children:[s.jsx("h1",{className:"page-title gradient-text",children:"üêÑ Livestock Management"}),s.jsxs("div",{className:"card",style:{background:"var(--gradient-primary)",color:"white",textAlign:"center",marginBottom:"2rem"},children:[s.jsx("h2",{style:{color:"var(--accent-gold)",marginBottom:"1rem"},children:"üåæ Our Diverse Animal Family"}),s.jsxs("p",{style:{fontSize:"1.1rem",opacity:.9,marginBottom:"1.5rem"},children:["Managing ",m.length," animals across multiple species with care and precision"]}),s.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"2rem",flexWrap:"wrap"},children:[s.jsxs("div",{className:"float",style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:"üêÑ"}),s.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:"Dairy & Beef Cattle"})]}),s.jsxs("div",{className:"float",style:{textAlign:"center",animationDelay:"0.5s"},children:[s.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:"üêë"}),s.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:"Sheep & Pedigree"})]}),s.jsxs("div",{className:"float",style:{textAlign:"center",animationDelay:"1s"},children:[s.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:"üêê"}),s.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:"Dairy & Beef Goats"})]}),s.jsxs("div",{className:"float",style:{textAlign:"center",animationDelay:"1.5s"},children:[s.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:"üêî"}),s.jsx("div",{style:{fontSize:"0.9rem",opacity:.8},children:"Poultry & Chickens"})]})]})]}),s.jsxs("div",{className:"stats-grid",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-number",children:m.length}),s.jsx("div",{className:"stat-label",children:"Total Animals"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-number",children:m.filter(e=>"F"===e.sex).length}),s.jsx("div",{className:"stat-label",children:"Female"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-number",children:m.filter(e=>"M"===e.sex).length}),s.jsx("div",{className:"stat-label",children:"Male"})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("div",{className:"stat-number",children:new Set(m.map(e=>e.type)).size}),s.jsx("div",{className:"stat-label",children:"Animal Types"})]})]}),s.jsx(t,{dataType:"animals",onResults:(e,a,s)=>{j(null===e?m:e)},placeholder:"Search animals by name, species, breed, tag number...",showFilters:!0,showPresets:!0,className:"animals-search"}),s.jsx(n,{feature:"animals",fallback:s.jsxs("div",{className:"card",style:{textAlign:"center",padding:"2rem"},children:[s.jsx("h3",{style:{color:"var(--text-light)"},children:"üëÅÔ∏è View Only Access"}),s.jsx("p",{style:{color:"var(--text-light)"},children:"You have read-only access to animal records. Contact an administrator to add or modify animals."})]}),children:w("animals")&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{style:{marginBottom:"1.5rem",color:"var(--primary-green)"},children:"‚ûï Add New Animal"}),s.jsxs("form",{onSubmit:function(e){if(e.preventDefault(),!u.name.trim())return;const a={id:Math.max(...m.map(e=>e.id),0)+1,...u},s=[...m,a];h(s),localStorage.setItem("adonai_animals",JSON.stringify(s)),p({type:"Dairy Cattle",name:"",dob:"",sex:"F",notes:""})},children:[s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Animal Type"}),s.jsxs("select",{value:u.type,onChange:e=>p({...u,type:e.target.value}),children:[s.jsx("option",{children:"Dairy Cattle"}),s.jsx("option",{children:"Beef Cattle"}),s.jsx("option",{children:"Dairy Goat"}),s.jsx("option",{children:"Beef Goat"}),s.jsx("option",{children:"Sheep"}),s.jsx("option",{children:"Pedigree Sheep"}),s.jsx("option",{children:"Chicken"}),s.jsx("option",{children:"Poultry"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Name"}),s.jsx("input",{placeholder:"Enter animal name",value:u.name,onChange:e=>p({...u,name:e.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Date of Birth"}),s.jsx("input",{type:"date",value:u.dob,onChange:e=>p({...u,dob:e.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Sex"}),s.jsxs("select",{value:u.sex,onChange:e=>p({...u,sex:e.target.value}),children:[s.jsx("option",{value:"F",children:"Female"}),s.jsx("option",{value:"M",children:"Male"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Notes"}),s.jsx("textarea",{value:u.notes,onChange:e=>p({...u,notes:e.target.value}),placeholder:"Additional notes about the animal...",rows:"3"})]})]}),s.jsxs("div",{className:"btn-group",children:[s.jsx("button",{type:"submit",className:"btn btn-primary",children:"‚ûï Add Animal"}),s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:function(){const e=[["ID","Type","Name","Date of Birth","Sex","Notes"].join(","),...m.map(e=>[e.id,`"${e.type}"`,`"${e.name}"`,e.dob||"",e.sex,`"${e.notes||""}"`].join(","))].join("\n"),a=new Blob([e],{type:"text/csv"}),s=window.URL.createObjectURL(a),t=document.createElement("a");t.href=s,t.download=`adonai-farm-animals-${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(s)},children:"üìä Export CSV"})]})]})]})}),s.jsx("div",{className:"animals-grid",children:x.map(e=>s.jsx("div",{className:"animal-card",children:y===e.id?s.jsxs("form",{onSubmit:k,className:"edit-form",children:[s.jsxs("h3",{style:{marginBottom:"1rem",color:"var(--primary-green)"},children:["‚úèÔ∏è Edit ",e.name]}),s.jsxs("div",{className:"form-grid",children:[s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Type"}),s.jsxs("select",{value:v.type,onChange:e=>f({...v,type:e.target.value}),children:[s.jsx("option",{children:"Dairy Cattle"}),s.jsx("option",{children:"Beef Cattle"}),s.jsx("option",{children:"Dairy Goat"}),s.jsx("option",{children:"Beef Goat"}),s.jsx("option",{children:"Sheep"}),s.jsx("option",{children:"Pedigree Sheep"}),s.jsx("option",{children:"Chicken"}),s.jsx("option",{children:"Poultry"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Name"}),s.jsx("input",{value:v.name,onChange:e=>f({...v,name:e.target.value}),required:!0})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Date of Birth"}),s.jsx("input",{type:"date",value:v.dob,onChange:e=>f({...v,dob:e.target.value})})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Sex"}),s.jsxs("select",{value:v.sex,onChange:e=>f({...v,sex:e.target.value}),children:[s.jsx("option",{value:"F",children:"Female"}),s.jsx("option",{value:"M",children:"Male"})]})]}),s.jsxs("div",{className:"form-group",children:[s.jsx("label",{children:"Notes"}),s.jsx("textarea",{value:v.notes,onChange:e=>f({...v,notes:e.target.value}),rows:"3"})]})]}),s.jsxs("div",{className:"btn-group",children:[s.jsx("button",{type:"submit",className:"btn btn-primary btn-small",children:"üíæ Save Changes"}),s.jsx("button",{type:"button",className:"btn btn-outline btn-small",onClick:B,children:"‚ùå Cancel"})]})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"animal-header",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"animal-name",children:[d[e.type]," ",e.name]}),s.jsx("div",{className:"animal-type",children:e.type})]}),s.jsx("div",{style:{fontSize:"2rem"},children:"F"===e.sex?"‚ôÄÔ∏è":"‚ôÇÔ∏è"})]}),s.jsxs("div",{className:"animal-details",children:[s.jsxs("div",{className:"animal-detail",children:[s.jsx("strong",{children:"Age:"}),s.jsx("span",{children:F(e.dob)})]}),s.jsxs("div",{className:"animal-detail",children:[s.jsx("strong",{children:"Born:"}),s.jsx("span",{children:e.dob||"Unknown"})]}),s.jsxs("div",{className:"animal-detail",children:[s.jsx("strong",{children:"ID:"}),s.jsxs("span",{children:["#",e.id]})]})]}),e.notes&&s.jsxs("div",{className:"animal-notes",children:["üìù ",e.notes]}),s.jsxs("div",{className:"animal-actions",children:[w("animals")&&s.jsx("button",{className:"btn btn-outline btn-small",onClick:()=>function(e){g(e.id),f({type:e.type,name:e.name,dob:e.dob,sex:e.sex,notes:e.notes||""})}(e),children:"‚úèÔ∏è Edit"}),D("animals")&&s.jsx("button",{className:"btn btn-danger btn-small",onClick:()=>N(e.id),children:"üóëÔ∏è Delete"}),!w("animals")&&!D("animals")&&s.jsx("div",{style:{color:"var(--text-light)",fontSize:"0.9rem",fontStyle:"italic"},children:"üëÅÔ∏è View only"})]})]})},e.id))}),0===m.length&&!S&&s.jsxs("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:[s.jsx("h3",{style:{color:"var(--text-light)",marginBottom:"1rem"},children:"üêÑ No animals yet"}),s.jsx("p",{style:{color:"var(--text-light)"},children:"Add your first animal using the form above to get started with livestock management."})]}),b&&s.jsx("div",{className:"modal-overlay",children:s.jsxs("div",{className:"modal",children:[s.jsx("h3",{children:"üóëÔ∏è Confirm Delete"}),s.jsx("p",{children:"Are you sure you want to delete this animal? This action cannot be undone and will permanently remove all associated data."}),s.jsxs("div",{className:"btn-group",children:[s.jsx("button",{className:"btn btn-danger",onClick:()=>function(e){const a=m.filter(a=>a.id!==e);h(a),localStorage.setItem("adonai_animals",JSON.stringify(a)),N(null)}(b),children:"üóëÔ∏è Delete Permanently"}),s.jsx("button",{className:"btn btn-outline",onClick:()=>N(null),children:"‚ùå Cancel"})]})]})})]})}export{c as default};
