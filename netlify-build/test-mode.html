<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adonai Farm - Test Mode Switcher</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: 0 auto; }
        .mode-card { border: 1px solid #ddd; padding: 20px; margin: 10px 0; border-radius: 8px; }
        .current { background: #e8f5e8; border-color: #4caf50; }
        button { padding: 10px 20px; margin: 5px; border: none; border-radius: 4px; cursor: pointer; }
        .primary { background: #4caf50; color: white; }
        .secondary { background: #2196f3; color: white; }
        .info { background: #f0f0f0; padding: 15px; border-radius: 4px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>üåæ Adonai Farm - Test Mode</h1>
    
    <div class="info">
        <strong>Current Mode:</strong> <span id="currentMode">Loading...</span><br>
        <strong>Device Type:</strong> <span id="deviceType">Loading...</span><br>
        <strong>Connection:</strong> <span id="connectionStatus">Loading...</span>
    </div>
    
    <div class="mode-card" id="localStorageCard">
        <h3>üì± Local Storage Mode</h3>
        <p>Perfect for mobile testing and offline use. All data is stored locally in your browser.</p>
        <button class="primary" onclick="switchToLocalStorage()">Use Local Storage</button>
    </div>
    
    <div class="mode-card" id="backendCard">
        <h3>üñ•Ô∏è Backend Mode</h3>
        <p>Connects to the backend server. Requires internet connection and running backend.</p>
        <button class="secondary" onclick="switchToBackend()">Use Backend</button>
    </div>
    
    <div style="margin-top: 30px;">
        <button onclick="goToApp()" style="background: #ff9800; color: white; font-size: 16px; padding: 15px 30px;">
            üöÄ Go to Farm Website
        </button>
    </div>
    
    <script>
        function updateStatus() {
            const useLocalStorage = localStorage.getItem('use-local-storage') === 'true';
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            document.getElementById('currentMode').textContent = useLocalStorage ? 'Local Storage' : 'Backend';
            document.getElementById('deviceType').textContent = isMobile ? 'Mobile' : 'Desktop';
            document.getElementById('connectionStatus').textContent = navigator.onLine ? 'Online' : 'Offline';
            
            // Highlight current mode
            document.getElementById('localStorageCard').classList.toggle('current', useLocalStorage);
            document.getElementById('backendCard').classList.toggle('current', !useLocalStorage);
        }
        
        function switchToLocalStorage() {
            localStorage.setItem('use-local-storage', 'true');
            alert('‚úÖ Switched to Local Storage mode!\n\nThis mode is perfect for:\n‚Ä¢ Mobile testing\n‚Ä¢ Offline use\n‚Ä¢ Demo purposes');
            updateStatus();
        }
        
        function switchToBackend() {
            localStorage.removeItem('use-local-storage');
            alert('‚úÖ Switched to Backend mode!\n\nMake sure the backend server is running on localhost:4000');
            updateStatus();
        }
        
        function goToApp() {
            window.location.href = '/';
        }
        
        // Update status on load
        updateStatus();
        
        // Update connection status when it changes
        window.addEventListener('online', updateStatus);
        window.addEventListener('offline', updateStatus);
    </script>
</body>
</html>
